<!doctype html><html lang=zh><meta charset=utf-8><meta name=viewport content="width=device-width"><title>vscode vue环境搭建+配置eslint和prettier | RQ MA</title><meta name=generator content="Hugo Eureka 0.8.0"><link rel=stylesheet href=/css/eureka.min.css><script defer src=/js/eureka.min.js></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap" as=style onload="this.onload=null,this.rel='stylesheet'"><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/solarized-light.min.css media=print onload="this.media='all',this.onload=null" crossorigin><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js integrity="sha256-uNYoXefWRqv+PsIF/OflNmwtKM4lStn9yrz2gVl6ymo=" crossorigin></script><link rel=icon type=image/png sizes=32x32 href=/images/icon_hufe282a50f3886d4604387e18d88a80ad_43066_32x32_fill_box_center_2.png><link rel=apple-touch-icon sizes=180x180 href=/images/icon_hufe282a50f3886d4604387e18d88a80ad_43066_180x180_fill_box_center_2.png><meta name=description content="安装Node.js、cnpm、webpack、vue-cli 在cmd新建vue项目进行测试 安装vscode、插件vetur、插件eslint、插件pr"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"/zh/posts/"},{"@type":"ListItem","position":2,"name":"vscode vue环境搭建+配置eslint和prettier","item":"/zh/posts/vue-environment-building-configuration-eslint-and-prettier/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"/zh/posts/vue-environment-building-configuration-eslint-and-prettier/"},"headline":"vscode vue环境搭建\u002b配置eslint和prettier | RQ MA","datePublished":"2020-03-04T17:35:05+08:00","dateModified":"2020-03-04T17:35:05+08:00","wordCount":1963,"author":{"@type":"Person","name":["mrq"]},"publisher":{"@type":"Person","name":"Example publisher","logo":{"@type":"ImageObject","url":"/images/icon.png"}},"description":"安装Node.js、cnpm、webpack、vue-cli 在cmd新建vue项目进行测试 安装vscode、插件vetur、插件eslint、插件pr"}</script><meta property="og:title" content="vscode vue环境搭建+配置eslint和prettier | RQ MA"><meta property="og:type" content="article"><meta property="og:image" content="/images/icon.png"><meta property="og:url" content="/zh/posts/vue-environment-building-configuration-eslint-and-prettier/"><meta property="og:description" content="安装Node.js、cnpm、webpack、vue-cli 在cmd新建vue项目进行测试 安装vscode、插件vetur、插件eslint、插件pr"><meta property="og:locale" content="zh"><meta property="og:site_name" content="RQ MA"><meta property="article:published_time" content="2020-03-04T17:35:05+08:00"><meta property="article:modified_time" content="2020-03-04T17:35:05+08:00"><meta property="article:section" content="posts"><meta property="article:tag" content="Vue"><body class="flex flex-col min-h-screen"><header class="fixed flex items-center w-full min-h-16 pl-scrollbar z-50 bg-secondary-bg shadow-sm"><div class="w-full max-w-screen-xl mx-auto"><script>let storageColorScheme=localStorage.getItem("lightDarkMode");((storageColorScheme=='Auto'||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches||storageColorScheme=="Dark")&&document.getElementsByTagName('html')[0].classList.add('dark')</script><nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0"><a href=/zh class="mr-6 text-primary-text text-xl font-bold">RQ MA</a>
<button id=navbar-btn class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
<i class="fas fa-bars"></i></button><div id=target class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20"><div class="md:flex md:h-16 text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0"><a href=/zh/#about class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent mr-4">About</a>
<a href=/zh/posts/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 selected-menu-item mr-4">Posts</a></div><div class=flex><div class="relative pt-4 md:pt-0"><div class="cursor-pointer hover:text-eureka" id=lightDarkMode><i class="fas fa-adjust"></i></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id=is-open></div><div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40" id=lightDarkOptions><span class="px-4 py-1 hover:text-eureka" name=Light>浅色</span>
<span class="px-4 py-1 hover:text-eureka" name=Dark>深色</span>
<span class="px-4 py-1 hover:text-eureka" name=Auto>自动</span></div></div></div></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id=is-open-mobile></div></nav><script>let element=document.getElementById('lightDarkMode');storageColorScheme==null||storageColorScheme=='Auto'?document.addEventListener('DOMContentLoaded',()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener('change',switchDarkMode)}):storageColorScheme=="Light"?(element.firstElementChild.classList.remove('fa-adjust'),element.firstElementChild.setAttribute("data-icon",'sun'),element.firstElementChild.classList.add('fa-sun')):storageColorScheme=="Dark"&&(element.firstElementChild.classList.remove('fa-adjust'),element.firstElementChild.setAttribute("data-icon",'moon'),element.firstElementChild.classList.add('fa-moon')),document.addEventListener('DOMContentLoaded',()=>{getcolorscheme(),switchBurger()})</script></div></header><main class="flex-grow pt-16"><div class=pl-scrollbar><div class="w-full max-w-screen-xl lg:px-4 xl:px-8 mx-auto"><div class="grid grid-cols-2 lg:grid-cols-8 gap-4 lg:pt-12"><div class="col-span-2 lg:col-span-6 bg-secondary-bg rounded px-6 py-8"><h1 class="font-bold text-3xl text-primary-text">vscode vue环境搭建+配置eslint和prettier</h1><div class="flex flex-wrap flex-row items-center mt-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>2020-03-04</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>4分钟阅读时长</span></div></div><div class=content><ul><li><a href=#%E5%AE%89%E8%A3%85nodejscnpmwebpackvue-cli>安装Node.js、cnpm、webpack、vue-cli</a></li><li><a href=#%E5%9C%A8cmd%E6%96%B0%E5%BB%BAvue%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95>在cmd新建vue项目进行测试</a></li><li><a href=#%E5%AE%89%E8%A3%85vscode%E6%8F%92%E4%BB%B6vetur%E6%8F%92%E4%BB%B6eslint%E6%8F%92%E4%BB%B6prettier>安装vscode、插件vetur、插件eslint、插件prettier</a></li><li><a href=#%E5%9C%A8vscode%E4%B8%AD%E8%BF%90%E8%A1%8Cvue%E9%A1%B9%E7%9B%AE>在vscode中运行vue项目</a></li><li><a href=#%E4%BD%BF%E7%94%A8cnpm%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91>使用cnpm时遇到的坑</a></li></ul><h2 id=安装nodejscnpmwebpackvue-cli>安装Node.js、cnpm、webpack、vue-cli</h2><p><strong>安装Node.js</strong><br><a href=https://nodejs.org/en/download/>官网</a>选择<code>.msi</code>进行安装。安装成功后打开cmd，运行<code>node -v</code>和<code>npm –v</code>查看版本号。</p><p><strong>安装cnpm</strong>（比npm快，因为使用淘宝的服务器做为的包源）<br>在cmd中，运行<code>npm install –g cnpm --registry=https://registry.npm.taobao.org</code>。安装成功后运行<code>cnpm –v</code>查看相关信息。</p><p><strong>安装webpack</strong>（js应用程序的静态模块打包器module bundler）<br>在cmd中，运行<code>cnpm install webpack –g</code>进行安装。</p><p><strong>安装vue-cli</strong>（用来生成vue模版的工具）<br>在cmd中，运行<code>cnpm install vue-cli –g</code>进行安装。安装成功后，运行<code>cnpm install -g @vue/cli-init</code>.</p><h2 id=在cmd新建vue项目进行测试>在cmd新建vue项目进行测试</h2><ol><li>在cmd，进入你想保存项目的文件目录。运行<code>cnpm install -g @vue/cli-init</code>。</li><li>运行<code>vue init webpack testDemo</code>，新建项目。（不要有大写，否则会提示你Project name不能有大写，需要一个小写的名字）<br>前面的回车即可，后面两个填<code>no</code>（因为之后要使用<code>cnpm</code>来下载依赖，<code>npm</code>太慢了）。最后一个本来选中的是<code>“Yes, use NPM"</code>（蓝色为选中），使用向下键选中第三个（如图）后回车。</li></ol><ol start=3><li>之后会显示建议如下图（把里面的<code>npm</code>全部换成<code>cnpm</code>后再一条条执行，不然<code>npm</code>太慢了）</li></ol><p>即逐条运行如下命令，<code>cd testDemo</code>，<code>cnpm install</code>，<code>cnpm run lint -- --fix</code>，<code>cnpm run dev</code>.</p><ol start=4><li>根据给出的提示，在浏览器通过http://localhost:8080地址访问。访问成功即测试成功。</li></ol><h2 id=安装vscode插件vetur插件eslint插件prettier>安装vscode、插件vetur、插件eslint、插件prettier</h2><ol><li>插件通过左侧extensions安装（可通过<code>Crtl+Shift+X</code>快捷键打开左侧extensions）。三个插件安装完成后重启vscode。</li><li>更改配置文件<code>setting.json</code>（打开方式：界面左下角设置图标->Settings->搜索框中搜索eslint->点击edit in setting.json）。</li></ol><p>更改setting.json文件如下：</p><pre><code class=language-json>
{
    &quot;editor.fontFamily&quot;: &quot;Fira Code, Consolas&quot;, //调整字体，Fira Code
    &quot;editor.detectIndentation&quot;: false,// vscode默认启用了根据文件类型自动设置tabsize的选项
    &quot;editor.tabSize&quot;: 4,            // 重新设定tabsize
    &quot;editor.formatOnSave&quot;: true,        // #每次保存的时候自动格式化 
    &quot;editor.formatOnPaste&quot;: true,
    &quot;editor.formatOnType&quot;: false,
    &quot;editor.suggestSelection&quot;: &quot;first&quot;,
    &quot;editor.autoIndent&quot;: false,
    &quot;editor.codeActionsOnSave&quot;: {
        &quot;source.fixAll.eslint&quot;: true
    },
 
    &quot;eslint.enable&quot;: true,
    &quot;eslint.run&quot;: &quot;onType&quot;,
    // 添加 vue 支持
    &quot;eslint.validate&quot;: [
        &quot;javascript&quot;,
        &quot;javascriptreact&quot;,
        &quot;vue-html&quot;,
        &quot;html&quot;,
        &quot;vue&quot;
    ],
    &quot;eslint.options&quot;: {
        &quot;extensions&quot;: [
            &quot;.js&quot;,
            &quot;.vue&quot;
        ]
    },
    &quot;files.associations&quot;: {
        &quot;*.vue&quot;: &quot;vue&quot;,
        &quot;*.js&quot;: &quot;javascript&quot;,
        &quot;*.cjson&quot;: &quot;jsonc&quot;,
        &quot;*.wxss&quot;: &quot;css&quot;,
        &quot;*.wxs&quot;: &quot;javascript&quot;,
        // &quot;*.wpy&quot;: &quot;vue&quot;
    },
 
    //  #去掉代码结尾的分号 
    &quot;prettier.semi&quot;: false,
    //  #使用带引号替代双引号 
    &quot;prettier.singleQuote&quot;: true,
    //  #让函数(名)和后面的括号之间加个空格
    &quot;javascript.format.insertSpaceBeforeFunctionParenthesis&quot;: true,
    // #这个按用户自身习惯选择 
    &quot;vetur.format.defaultFormatter.html&quot;: &quot;js-beautify-html&quot;,
    // #让vue中的js按编辑器自带的ts格式进行格式化 
    &quot;vetur.format.defaultFormatter.js&quot;: &quot;vscode-typescript&quot;,
 
    &quot;git.ignoreMissingGitWarning&quot;: true,
    &quot;git.confirmSync&quot;: false,
    &quot;git.autofetch&quot;: true,
    &quot;git.enableSmartCommit&quot;: true,
    &quot;files.autoSave&quot;: &quot;onWindowChange&quot;,
    &quot;explorer.confirmDelete&quot;: false,
    &quot;terminal.integrated.rendererType&quot;: &quot;dom&quot;,
    &quot;vetur.format.defaultFormatterOptions&quot;: {
        &quot;js-beautify-html&quot;: {
            &quot;wrap_attributes&quot;: &quot;force-aligned&quot;
            // #vue组件中html代码格式化样式
        }
    },
    &quot;[javascript]&quot;: {
        &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;
    },
    &quot;extensions.autoUpdate&quot;: true,
}
</code></pre><ol start=3><li>想要每次保存时自动将双引号变为单引号，则在项目根目录下新建<code>.prettierrc</code>，文件内容如下：</li></ol><pre><code>{
    &quot;semi&quot;: false,
    &quot;singleQuote&quot;: true
}
</code></pre><p>重启（？可能需要）vscode后生效。</p><h2 id=在vscode中运行vue项目>在vscode中运行vue项目</h2><ol><li><code>File -> Open Folder</code>，打开刚才使用cmd创建的项目<code>testDemo</code>。</li><li>打开Terminal（可以顶部工具栏Terminal-> New Terminal打开）</li><li>运行<code>cnpm install</code>，用于检查和下载依赖。（这一步我碰到了很多问题，会在文末说明我遇到过的问题以及解决方法）</li><li>运行<code>cnpm run dev</code>，运行项目。</li><li>根据给出的提示，在浏览器通过http://localhost:8080地址访问。</li></ol><h2 id=使用cnpm时遇到的坑>使用cnpm时遇到的坑</h2><p><strong>问题：使用cnpm install时报错"cnpm : 无法加载文件 &mldr; ，因为在此系统上禁止运行脚本。&mldr;"</strong><br>报错如下：</p><p><strong>解决方案</strong></p><ol><li>在win10搜索框中搜索Windows PowerShell，以管理员身份运行。</li><li>运行<code>set-executjionpolicy remotesigned</code>。（很遗憾在这一步又出现问题了，具体报错忘记截图了，大概就是说这个命令不能运行啥的。解决方案见下一步。）（如果这一步你能成功，请直接跳到第4步）</li><li>解决第2步出现的问题（第2步没问题的直接看第4步）：在cmd中运行<code>get-help set-executionpolicy</code>。运行完这个命令后，再在PowerShell中尝试运行2中的命令，如果成功，则执行第4步。</li><li>更改权限为A。运行<code>Ge-ExecutionPolicy</code>。</li></ol><ol start=5><li>再回到vscode，在Terminal中运行<code>cnpm -v</code>。如果能成功，说明问题解决了，<code>cnpm install</code>也能正常运行了。</li></ol></div><div class=my-4><a href=/zh/tags/vue/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#Vue</a></div><div class=py-2><div class="flex flex-col md:flex-row items-center my-8"><a href=/zh/authors/mrq/ class="w-24 h-24 md:mr-4"><img src=/zh/authors/mrq/avatar.jpg class="w-full bg-primary-bg rounded-full" alt=Avatar></a><div class="w-full md:w-auto mt-4 md:mt-0"><a href=/zh/authors/mrq/ class="block font-bold text-lg pb-1 mb-2 border-b">Ruiqi</a>
<span class="block pb-2">有梦想，有追求，有吃的，有喝的，有玩的，有爱的</span>
<a href=mailto:happy.malechi@gmail class=mr-1><i class="fas fa-envelope"></i></a>
<a href=https://https://twitter.com/malechi20 class=mr-1><i class="fab fa-twitter"></i></a>
<a href=https://github.com/malechiMLC class=mr-1><i class="fab fa-github"></i></a></div></div></div><div class="flex flex-col md:flex-row md:justify-between -mx-2 mt-4 px-2 pt-4 border-t"><div><span class="block font-bold">上一页</span>
<a href=/zh/posts/vue-cli3-cross-domain-configuration/ class=block>vue-cli3 跨域配置-含示例</a></div><div class="md:text-right mt-4 md:mt-0"><span class="block font-bold">下一页</span>
<a href=/zh/posts/solutions-reason-for-white-screen/ class=block>导致页面白屏的原因</a></div></div><script id=utterances src=https://utteranc.es/client.js issue-term=pathname repo=ruiqima/comments theme=preferred-color-scheme crossorigin=anonymous async></script><script>((storageColorScheme=='Auto'||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches||storageColorScheme=="Dark")&&document.getElementById('utterances').setAttribute('theme','github-dark')</script></div><div class=col-span-2><div class="sticky top-16 z-10 hidden lg:block px-6 py-4 bg-primary-bg"><span class="text-lg font-semibold">本页内容</span></div><div class="sticky-toc hidden lg:block px-6 pb-6"><nav id=TableOfContents><ul><li><a href=#安装nodejscnpmwebpackvue-cli>安装Node.js、cnpm、webpack、vue-cli</a></li><li><a href=#在cmd新建vue项目进行测试>在cmd新建vue项目进行测试</a></li><li><a href=#安装vscode插件vetur插件eslint插件prettier>安装vscode、插件vetur、插件eslint、插件prettier</a></li><li><a href=#在vscode中运行vue项目>在vscode中运行vue项目</a></li><li><a href=#使用cnpm时遇到的坑>使用cnpm时遇到的坑</a></li></ul></nav></div><script>window.addEventListener('DOMContentLoaded',()=>{enableStickyToc()})</script></div></div><script>document.addEventListener('DOMContentLoaded',()=>{hljs.initHighlightingOnLoad()})</script></div></div></main><footer class=pl-scrollbar><div class="w-full max-w-screen-xl mx-auto"><div class="text-center p-6 pin-b"><p class="text-sm text-tertiary-text">&copy; 2021 Ruiqi Ma &#183; Powered by the <a href=https://github.com/wangchucheng/hugo-eureka class=hover:text-eureka>Eureka</a> theme for <a href=https://gohugo.io class=hover:text-eureka>Hugo</a></p></div></div></footer></body></html>